<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Three Cubes Game: Minetest Android build</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Three Cubes Game
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md_resources_doc_android.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Minetest Android build </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>All Minetest builds, including the Android variant, are based on the same code. However, additional Java code is used for proper Android integration.</p>
<h1><a class="anchor" id="autotoc_md586"></a>
Controls</h1>
<p>Compared to Minetest binaries for PC, the Android port has limited functionality due to limited capabilities of common devices. What can be done is described below:</p>
<p>While you're playing the game normally (that is, no menu or inventory is shown), the following controls are available:</p><ul>
<li>Look around: touch screen and slide finger</li>
<li>Tap: Place a node</li>
<li>Long tap: Dig node or use the held item</li>
<li>Press back: Pause menu</li>
<li>Touch buttons: Press button</li>
<li>Buttons:</li>
</ul>
<ol type="1">
<li>Left upper corner: Chat</li>
<li>Right lower corner: Jump</li>
<li>Right lower corner: Crouch</li>
<li>Left lower corner (Joystick): Walk/step...</li>
<li>Left lower corner: Display inventory</li>
</ol>
<p>When a menu or inventory is displayed:</p><ul>
<li>Double tap outside menu area: Close menu</li>
<li>Press back: Close menu</li>
<li>Tap on an item stack: Select that stack</li>
<li>Tap on an empty slot: If a stack are selected already, that stack is placed here</li>
<li>Drag and drop: Touch stack and hold finger down, move the stack to another slot, tap another finger while keeping first finger on screen --&gt; places a single item from dragged stack into current (first touched) slot. If a stack is selected, the stack will be split as half and one of the splitted stack will be selected</li>
</ul>
<h2><a class="anchor" id="autotoc_md587"></a>
Limitations</h2>
<ul>
<li>Some old Android device only support 2 touch at a time, some game/mod contain button combination that need 3 touch (example: jump + Aux1 + hold)</li>
<li>Complicated control can be difficult or impossible on Android device</li>
</ul>
<h1><a class="anchor" id="autotoc_md588"></a>
File Path</h1>
<p>There are some settings especially useful for Android users. The Minetest-wide configuration file can usually be found at:</p>
<ul>
<li>Before 5.4.2:<ul>
<li><code>/sdcard/Minetest/</code> or <code>/storage/emulated/0/</code> if stored on the device</li>
<li><code>/storage/emulated/(varying folder name)/</code> if stored on an SD card</li>
</ul>
</li>
<li>After 5.4.2:<ul>
<li><code>/sdcard/Android/data/net.minetest.minetest/</code> or <code>/storage/emulated/0/Android/data/net.minetest.minetest/</code> if stored on the device</li>
<li><code>/storage/emulated/(varying folder name)/Android/data/net.minetest.minetest/</code> if stored on the SD card</li>
</ul>
</li>
<li><a href="https://wiki.minetest.net/Accessing_Android_Data_Directory">Learn more about Android directory</a></li>
</ul>
<h1><a class="anchor" id="autotoc_md589"></a>
Useful settings</h1>
<h2><a class="anchor" id="autotoc_md590"></a>
gui_scaling</h2>
<p>this is a user-specified scaling factor for the GUI in case main menu is too big or small on your device, try changing this value.</p>
<h2><a class="anchor" id="autotoc_md591"></a>
mapblock_limit</h2>
<p>Mobile device generally have less RAM than PC, this setting limit how many mapblock can keep in RAM</p>
<h2><a class="anchor" id="autotoc_md592"></a>
fps_limit</h2>
<p>this setting limit max FPS (Frame per second). Default value is 60, which lowest Android device screen refresh rate commonly found, but if you're using an device have lower refresh rate, change this</p>
<h1><a class="anchor" id="autotoc_md593"></a>
Requirements</h1>
<p>The minimal and recommended system requirements for Minetest are listed below.</p>
<h2><a class="anchor" id="autotoc_md594"></a>
CPU</h2>
<p>Supported architectures:</p><ol type="1">
<li>ARM v7</li>
<li>ARM v8</li>
<li>x86</li>
<li>x86_64</li>
</ol>
<p>CPU architectures similar to ARM or x86 might run Minetest but are not tested.</p>
<h2><a class="anchor" id="autotoc_md595"></a>
Minimum</h2>
<ol type="1">
<li>Graphics API: OpenGL ES 1.0<ul>
<li>Shaders might not work correctly or work at all on OpenGL ES 1.0.</li>
</ul>
</li>
<li>Android version: Android 4.1 (API Level 16)</li>
<li>Free RAM: 500 MB</li>
<li>Free storage: 100 MB<ul>
<li>More storage is highly recommended</li>
</ul>
</li>
</ol>
<h2><a class="anchor" id="autotoc_md596"></a>
Recommended</h2>
<ol type="1">
<li>Graphics API: OpenGL ES 2.0</li>
<li>Android version: Android 4.4 (API Level 19) or newer</li>
<li>Empty RAM: 850 MB</li>
<li>Free storage: 480 MB</li>
</ol>
<h1><a class="anchor" id="autotoc_md597"></a>
Rendering</h1>
<p>Unlike on PC, Android devices use OpenGL ES which less powerful than OpenGL, thus some shader settings cannot be used on OpenGL ES. Changing the graphic driver setting to OpenGL will result in undesirable behavior.</p>
<h1><a class="anchor" id="autotoc_md598"></a>
Building Requirements</h1>
<p>In order to build, your PC has to be set up to build Minetest in the usual manner (see the regular Minetest documentation for how to get this done). In addition to what is required for Minetest in general, you will need the following software packages. The version number in parenthesis denotes the version that was tested at the time this README was drafted; newer/older versions may or may not work.</p>
<ul>
<li>Android SDK 29</li>
<li>Android NDK r21</li>
<li>Android Studio 3 [optional]</li>
</ul>
<p>Additionally, you'll need to have an Internet connection available on the build system, as the Android build will download some source packages.</p>
<h1><a class="anchor" id="autotoc_md599"></a>
Build</h1>
<p>The new build system Minetest Android is fully functional and is designed to speed up and simplify the work, as well as adding the possibility of cross-platform build. You can use <code>./gradlew assemblerelease</code> or <code>./gradlew assembledebug</code> from the command line or use Android Studio and click the build button.</p>
<p>When using gradlew, the newest NDK will be downloaded and installed automatically. Or you can create a <code>local.properties</code> file and specify <code>sdk.dir</code> and <code>ndk.dir</code> yourself.</p>
<ul>
<li>In order to make a release build you'll have to have a keystore setup to sign the resulting apk package. How this is done is not part of this README. There are different tutorials on the web explaining how to do it<ul>
<li>choose one yourself.</li>
</ul>
</li>
<li>Once your keystore is setup, enter the android subdirectory and create a new file "ant.properties" there. Add following lines to that file:</li>
</ul>
<blockquote class="doxtable">
<p>key.store=&lt;path to your keystore&gt; key.alias=Minetest </p>
</blockquote>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
